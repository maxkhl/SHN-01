local command = newClass(class("../protocol"))

function command:constructor()
    assert(self, "Must be called on a object")
    self.base:constructor("GATE", 2011, "Response Verification", {

        -- Define the command sequences here
        -- Example: new("sequence", "commandName", serverFunc, clientFunc)
        class("../sequence"):create(getAbsolutePath("../sequences/handshake/manifest.lua"), true)
    })

end

function command:onSequenceFinished(sequence, result, sessionID)
    if sequence.name == "handshake" and result then
        if server and server.addClient then
            server:addClient(result)
        end
    end
end

return command
