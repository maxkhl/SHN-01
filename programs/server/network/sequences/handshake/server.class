local handshake = newClass(class("../../sequence"))

function handshake:constructor()
    assert(self, "Must be called on a object")
    self.base:constructor("handshake",
    function(sessionID, ...)
        -- Server-side handshake logic
        print("Server-side handshake initiated for session ID:", sessionID)
        -- Simulate some processing
        coroutine.yield("Processing server handshake...")
        print("Server-side handshake completed")
    end, 
    function(sessionID, ...)
        -- Client-side handshake logic
        print("Client-side handshake initiated for session ID:", sessionID)
        -- Simulate some processing
        coroutine.yield("Processing client handshake...")
        print("Client-side handshake completed")
    end)
end

return handshake