--[[
    SHN-01 Network Outbound message Class
        This class represents an outbound network message in the SHN-01 system.
        It handles the creation and management of messages sent over the network.
]]
local outbound = newClass(class("../message"))

function outbound:constructor(client, protocol, distance, ...)
    assert(self, "Must be called on a object")
    self.base:constructor(client.address, protocol, distance, ...)
end

-- Sends the outbound message over the network
function outbound:send()
    assert(self, "Must be called on a object")
    local modem = getComponent("modem")
    modem.send(self.remoteAddress, self.protocol.port, table.unpack(self.payload))
end

return outbound