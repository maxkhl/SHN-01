--[[
    SHN-01 Network File Protocol Class
        This class represents the FILE protocol in the SHN-01 system.
        It handles file transfer sequences and related operations.
]]
local command = newClass(class("../protocol"))

function command:constructor(hive)
    assert(self, "Must be called on a object")
    local sequenceClass = class("../sequence")
    
    local sequences = {
        sequenceClass.create(hive, self, getAbsolutePath("../sequences/transmit/manifest.lua"))
    }
    
    -- Initialize protocol properties directly
    self.server = hive
    self.name = "FILE"
    self.description = "File Transfer"
    self.port = 2031
    
    -- Create unique sequences table for this protocol instance
    self.sequences = setmetatable({}, {__name = "sequences_for_FILE"})
    for i, seq in ipairs(sequences) do
        self.sequences[seq.name] = seq
    end
end

return command