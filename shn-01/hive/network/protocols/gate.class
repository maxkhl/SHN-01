--[[
    SHN-01 Network Gate Protocol Class
        This class represents the GATE protocol in the SHN-01 system.
        It handles the handshake sequence and client verification process.
]]
local command = newClass(class("../protocol"))

function command:constructor(server)
    assert(self, "Must be called on a object")
    self.base:constructor(server, "GATE", 2011, "Response Verification", {

        -- Define the command sequences here
        -- Example: new("sequence", "commandName", serverFunc, clientFunc)
        class("../sequence"):create(getAbsolutePath("../sequences/handshake/manifest.lua"), true)
    })

end

function command:onSequenceFinished(sequence, result, sessionID)
    if sequence.name == "handshake" and result then
        if server and server.addClient then
            server:addClient(result)
        end
    end
end

return command
