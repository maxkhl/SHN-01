--[[
    SHN-01 Network Echo Protocol Class
        This class represents the ECHO protocol in the SHN-01 system.
        It handles message relay sequences and related operations.
]]
local command = newClass(class("../protocol"))

function command:constructor(hive)
    assert(self, "Must be called on a object")
    local sequenceClass = class("../sequence")
    
    local sequences = {
        sequenceClass.create(hive, self, getAbsolutePath("../sequences/heartbeat/manifest.lua"), true)
    }
    
    -- Initialize protocol properties directly
    self.server = hive
    self.name = "ECHO"
    self.description = "Message Relay"
    self.port = 2022
    
    -- Create unique sequences table for this protocol instance
    self.sequences = setmetatable({}, {__name = "sequences_for_ECHO"})
    for i, seq in ipairs(sequences) do
        self.sequences[seq.name] = seq
    end
end

return command